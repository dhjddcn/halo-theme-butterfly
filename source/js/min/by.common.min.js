"use strict";var commonContext={scroll:function(){var n=0,s=$("header"),o=$(".by_rightside"),i=$(".by_post_sticky");window.addEventListener("scroll",function(){return ByUtils.throttle(function(e){var t,a=window.scrollY||document.documentElement.scrollTop;t=n<a,(n=a)?(t?(s.hasClass("by_nav_visible")&&s.removeClass("by_nav_visible"),o.hasClass("by_rightside_show")||o.addClass("by_rightside_show"),i.removeAttr("style","")):(s.hasClass("by_nav_visible")||s.addClass("by_nav_visible"),i.css({top:"70px"})),s.addClass("by_nav_fixed")):0===a&&(s.removeClass("by_nav_fixed by_nav_visible"),o.removeClass("by_rightside_show"))},200)()})},rightside:function(){var e=localStorage.getItem("data-theme"),t=$("html");e&&t.attr("data-theme",e),$(".by_rightside  .go_up").click(function(e){$("body").animate({scrollTop:0},800)}),$(".by_rightside  .darkmode").click(function(e){"light"===t.attr("data-theme")?(t.attr("data-theme","dark"),localStorage.setItem("data-theme","dark")):(t.attr("data-theme","light"),localStorage.setItem("data-theme","light"))})},sidebar:function(){var e=$("body"),t=$(".by_header_sidebar");$(".by_toggle_menu").click(function(){e.css({overflow:"hidden"}),t.slideDown("slow").toggleClass("by_header_sidebar_open")}),$(".by_header_sidebar_mask").click(function(){t.removeClass("by_header_sidebar_open"),e.removeAttr("style")}),$(".by_header_sidebar_menus_item").each(function(){$(this).click(function(e){$(this).children("ul").length&&(e.stopPropagation(),$(this).children("ul").slideToggle().parent().toggleClass("by_child_show"))})})},initCode:function(){var e=$(".by_post pre ,.by_journals pre");e.length&&e.each(function(){var e=$(this);0<e.find("code").length&&(e.addClass("line-numbers"),e.prepend('<i class="by_icon_copy by-font by_code_copy" title="复制内容"></i><i class="by_icon_arrow-downb by-font by_code_expander" title="折叠/展开"></i>'),e.children(".by_code_expander").click(function(){e.toggleClass("by_code_close")}),new ClipboardJS(e.children(".by_code_copy")[0],{text:function(){return e.find("code[class*='language-']").text()}}).on("success",function(){return Qmsg.success("复制成功！")}))})},initGallery:function(){var e=$(".by_post img:not([class])");e.length&&e.each(function(){var e=$(this);e.wrap($('<span style="display: block;" data-fancybox="Butterfly" href="'.concat(e.attr("src"),'"></span>')))})},clean:function(){}};document.addEventListener("DOMContentLoaded",function(){Object.values(commonContext).forEach(function(e){return e()})});